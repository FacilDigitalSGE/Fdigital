{% extends 'base.html' %}
{% load static %}

{% block title %}Nova Solicita√ß√£o{% endblock %}

{% block page_title %}Nova Solicita√ß√£o{% endblock %}

{% block extra_css %}
<link rel="stylesheet" href="{% static 'css/criar_solicitacao.css' %}">
{% endblock %}

{% block content %}
<div class="main-container">
  <!-- Se√ß√£o de Pesquisa movida para o topo -->
  <div class="search-section">
    <h3 class="search-title">O que voc√™ procura?</h3>
    <p>Antes de encaminhar sua solicita√ß√£o, veja a rela√ß√£o de documentos necess√°rios para o pedido.</p>
    
    <div class="search-box">
      <input type="text" class="form-control" placeholder="Pesquisar servi√ßo para consultar os documentos necess√°rios...">
      <button type="button" class="btn-primary">Pesquisar</button>
    </div>
  </div>

  <form action="" method="post" enctype="multipart/form-data">
    {% csrf_token %}
    <!-- Informa√ß√µes do Usu√°rio (n√£o edit√°veis) -->
    <div class="user-info-section">
      <div class="user-info-grid">
        <div class="user-info-item">
          <span class="user-info-label">Nome</span>
          <span class="user-info-value" id="userName">Jo√£o da Silva</span>
        </div>
        <div class="user-info-item">
          <span class="user-info-label">Data</span>
          <span class="user-info-value" id="currentDate"></span>
        </div>
        <div class="user-info-item">
          <span class="user-info-label">CPF/CNPJ</span>
          <span class="user-info-value" id="userDocument">123.456.789-00</span>
        </div>
      </div>
    </div>
<!-- Se√ß√£o Prioridade Idoso -->
<div class="priority-toggle">
  <label class="switch">
      <input type="checkbox" id="elderlyToggle">
      <span class="slider round"></span>
  </label>
  <span class="priority-label">Solicitar Prioridade - Estatuto do Idoso</span>
</div>

  
  <!-- Container para documento (inicialmente oculto) -->
  <div id="elderlyDocContainer" class="elderly-doc-container" style="display: none;">
    <div class="file-upload-priority">
        <p>Anexe um documento de identifica√ß√£o que comprove a idade (RG, CNH ou outro documento oficial)</p>
        <input type="file" id="elderlyDocInput" accept="image/*,.pdf" style="display: none;">
        <label for="elderlyDocInput" class="btn-secondary">Anexar Documento do Idoso</label>
    </div>
</div>


    <!-- Se√ß√£o de Solicita√ß√£o -->
    <div class="form-section">
      <div class="form-group">
        <label class="form-label">Assunto da Solicita√ß√£o *</label>
        <input type="text" class="form-control" required placeholder="Digite o assunto da sua solicita√ß√£o">
      </div>

      <div class="form-group">
        <label class="form-label">Descri√ß√£o da Solicita√ß√£o * (m√°ximo 500 caracteres)</label>
        <textarea class="form-control" rows="4" required maxlength="500" 
                  placeholder="Descreva detalhadamente sua solicita√ß√£o"></textarea>
        <div class="char-count" id="charCount">0/500</div>
      </div>
    </div>

    <!-- Se√ß√£o de Cadastro -->
    <div class="form-section">
      <h3 class="form-section-title">Informa√ß√µes Cadastrais</h3>
      <div class="registration-row">
        <input type="text" class="form-control" placeholder="Inscri√ß√£o Imobili√°ria">
        <input type="text" class="form-control" placeholder="Inscri√ß√£o Mobili√°ria">
        <input type="text" class="form-control" placeholder="Cadastro">
      </div>
    </div>

  <!-- Se√ß√£o de Anexos -->
  <div class="form-section">
      <h3 class="form-section-title">Documentos Anexos</h3>
      <div class="file-upload">
          <div class="file-upload-icon">üìé</div>
          <p>Arraste e solte os arquivos aqui ou</p>
          <input type="file" multiple style="display: none;" id="fileInput">
          <label for="fileInput" class="btn-secondary">Escolher Arquivos</label>
      </div>
        
      <!-- Lista de arquivos -->
      <div id="fileList" class="file-list">
          <!-- Os itens ser√£o adicionados aqui dinamicamente -->
      </div>
  </div>


    <!-- Bot√£o de Envio -->
    <div class="text-center">
    <a href="http://127.0.0.1:8000/solicitacoes/novo-pedido/" class="btn-primary">
            Enviar Solicita√ß√£o
    </a>
    </div>
  </form>
</div>
{% endblock %}

{% block extra_js %}
<script src="{% static 'js/criar_solicitacao.js' %}"></script>
{% endblock %}